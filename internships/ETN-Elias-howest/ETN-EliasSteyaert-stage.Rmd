---
title: "ETN_EliasSteyaert-stage"
author: "Elias Steyaert"
date: "2024-04-23"
output: pdf_document
---

# Electronic traineeship notebook (ETN) - Elias Steyaert 
### A logbook that describes what happened on a daily basis.
### Link to my github:
https://github.com/EliasSteyaert/stage-VIB-irefindex

## Week 1
#### Monday 22/04/2023

##### Exploring the main project for the following weeks:
- Explore the github repository of the project (https://github.com/vibbits/irefindex)
- Read article about the iRefIndex (Razick, S., Magklaras, G., & Donaldson, I. M. (2008). iRefIndex: A consolidated protein interaction database with provenance. BMC Bioinformatics, 9(1), 405. https://doi.org/10.1186/1471-2105-9-405)
- Read documentation on the iRefIndex (https://irefindex.vib.be/wiki/index.php/iRefIndex)
- Explore the scripts to be used 

##### Preparation for the project:
- Making an account on csv
- Downloading and installing the needed programs and having a look at how to use these (ansible, terraform and nextflow).


#### Tuesday 23/04/2023

##### Exploring the main project: 
- Explore the github repository of the project even further (https://github.com/vibbits/irefindex)

##### Preparation for the project:
- Getting the csv account fully setup after getting it approved (with a ssh key)
- Trying to get past the “13000 gate” with VPN’s. (Setting up a KULeuven- and a UGent-VPN)
- Learning more about ansible and terraform through tutorials and "how-to's"
- Exploring the ansible code with the newly requiered knowledge from earlier.


#### Wednesday 24/04/2023

##### Trying to setup the needed resources through terraform:
- Setting up the vsc connection (solving troubleshooting for errors for “terraform init” in the VM
- Setting up the identifcation credentials on the VSC_2021_102 cloud
- Running into troubleshooting while deleting the previous instance and volume

##### Setting up a github repository
- Forking and cloning the VIB github repository into my own and setting up the needed folders/files into it (https://github.com/EliasSteyaert/stage-VIB-irefindex)



#### Thursday 25/04/2023

##### Performing the "terraform-step" of the procedure:
- Running into troubleshooting for the whole day when trying to perform the command "terraform apply -auto-approve"
- Been getting a lot of different errors and finding different solutions which don't work

##### side-tasks to do while waiting for the task to be executed:
- Making the ETN Markdown file and complement it with the things that are performed till this day
- Making a troubleshooting file and filling in all the issueas that were encountered so far



#### Friday 26/04/2023

##### Trying to perform "terraform apply"
- Trying to solve the problems that occur when performing “terraform apply”, trying to get the instance and its volume working. 

##### Learning more about the Vlaamse Super Computer
- Learning more about instances and their volumes, what they are, how thet are used. 
Making an instance and a volume manually and connecting them with eachother. 
Connecting to the instance. 

##### Playing the first playbook


#### Monday 29/04/2024

##### Running the playbook 
- Run the playbook untill I get an error that needs to be solved. (main1 and after_main1 could be ran, main2 gave problems). 

##### Solving minor problems
- Deleting all the data in google cloud. 
- Making a new directory to store everything in. 


#### Tuesday 30/04/2024

##### Problem-soloving the Irdownload playbook
- Irdownload doesn’t work anymore so we will be adjusting the irdata-config so it can work again.  


#### Wednesday 01/05/2024

##### Labours day


#### Thursday 02/05/2024

##### Problem-solving the Irunpack playbook
- Running into problems when performing the Irunpack playbook, existing_dirs wasn’t defined and the location of the files were wrong

##### Problem-solving the Irparse playbook
- Running into problems when performing the Irparse playbook, pip3 has to be installed with apt, not dnf 


#### Friday 03/05/2024

##### Problem-solving new problems the Irparse playbook brings with it
- Running into new problems while running the irparse playbook: creating a venv and trying to get the irdata package downloaded 


#### Monday 06/05/2024

##### Problem-solving new problems the Irparse playbook brings with it
- Running into different kinds of problems when running the irparse playbook. The error says that the space is full but that doesn’t seem to be the problem. 
- Adding a python interpreter as an environment for the .py scripts


#### Thursday 07/05/2024

##### Problem-solving new problems the Irparse playbook brings with it
- Being stuck on the irparse.yml playbook. 
- Trying to figure out how to solve the “need more space” error.


#### Wednesday 08/05/2024

##### Problem-solving new problems the Irparse playbook brings with it
- Creating a "for loop" to get the python interpreter into the scripts which need the environment to solve “from irdata import data ModuleNotFoundError: No module named 'irdata'” 
- for filename in $(grep -rl "TOOLS" ./usr/bin/* | sort | uniq); do cat "$filename" | sed "s|\(\$TOOLS/.*.py\)|\${USE_PYTHON_INTERPRETER}\" \"\1|g" > "$filename.tmp" && mv "$filename.tmp" "$filename"; done


#### Thursday 09/05/204

##### Ascension Day 


#### Friday 10/05/2024

##### Problem-solving new problems the Irparse playbook brings with it
- Trying to expand the disk space to solve the problem of “need more space”. Doing so I messed up the server by trying to make a new partition. 
- I made the server crash. Alex setted up a new server. The IP-adress in the file "inventory" must be updated to the new one. To get the /mnt/disks/data back (linked to the /dev/sda), I followed the following site of google itself: https://cloud.google.com/compute/docs/disks/format-mount-disk-linux
After the /mnt/disks/data was set-up, the playbook could be played from my VM onto the google cloud instance.


#### Monday 13/05/2024

##### Playing the playbook all over again
- Starting over again with the playbook: changing the inventory, playing main1.yml, after_main1.yml and main2.yml till it got stuck at irparse.yml 

##### Problem-solving new problems the Irparse playbook brings with it
- Trying to find a solution for the "from irdata import data as irdt ModuleNotFoundError: No module named 'irdata'"


#### Tuesday 14/05/2024

##### Problem-solving new problems the Irparse playbook brings with it
- Trying to get the Irparse.yml running 
- Learning more about binairy and how a kernel works. Learning more about the hashbang, how it works and why it is there. 


#### Wednesday 15/05/2024

##### Problem-solving new problems the Irparse playbook brings with it
- Looking for a solution to get Irparse.yml running with the knowledge of the day before.
- Running into a new error: "/home/irefindex/usr/bin/irdata_parse_bind.sh: line 94: : command not found" where the line it references is a line with the python interpreter.
- Trying little things like installing pip into the environment, even though it should be already there














